{"version":3,"sources":["utils/dateUtils.ts","components/WeatherDailyInfo/index.tsx","components/DefaultAppBar/index.tsx","store/root-reducer.ts","data/model/UserPreferences/UserLocation.ts","utils/locationUtils.ts","data/model/UserPreferences/UserPreferences.ts","data/model/WeatherInfo/WeatherInfo.ts","store/root-redux.ts","data/model/WeatherInfo/DailyWeatherInfo.ts","data/model/WeatherInfo/HourlyWeatherInfo.ts","data/model/OpenWeatherResponse/OpenWeatherMap5Day3HoursWeatherInfoResponse.ts","data/model/OpenWeatherResponse/OpenWeatherMapWeekResponse.ts","data/model/OpenWeatherResponse/OpenWeatherMapBasicResponse.ts","services/OpenWeatherMapApi.ts","utils/weatherDataUtilis.ts","pages/HomePage/index.tsx","hook/useWindowDimensionsHook.tsx","components/WeatherHourlyChart/WeatherHourlyChartComponent.tsx","components/WeatherHourlyChart/index.tsx","pages/HourlyWeatherInfo/index.tsx","store/index.ts","Routes.tsx","index.tsx"],"names":["DateUtilities","shortDays","days","map","dayName","substring","getDateAccordingToCurrentWeekDayName","replace","dayNameIndex","indexOf","dateAccordingToRelativeDay","getDateAccordingToRelativeDay","Error","date","Date","now","differenceDays","getDay","setDate","getDate","relativeDayName","toLowerCase","dateIsAfterToday","comparativeDate","resetHourMinuteSecondMillisecond","getFullYear","getMonth","setHours","setMinutes","setSeconds","setMilliseconds","WeatherDailyInfo","weatherDailyInfo","to","className","alt","src","wheaterInfoIcon","maxTemperature","minTemperature","DefaultAppBar","userLocation","useSelector","state","AppBar","position","Toolbar","Typography","variant","toDateString","name","ActionType","UserLocation","latitude","longitude","this","oldTraffordStadiumLocation","LocationUtilities","updateUserLocationFunction","Promise","resolve","_","a","undefined","loadCurrentUserLocation","reject","navigator","geolocation","getCurrentPosition","location","coords","UserPreferences","initialState","userPreferences","weekWeatherInfos","hourlyWeatherInfos","isLoadingDetailedData","WeatherInfoEnum","RootDispatcher","dispatch","updateUserPreferences","type","UpdateUserPreferences","payload","updateUserLocation","UpdateUserLocation","updateWeekWeatherInfos","UpdateWeekWeatherInfos","updateHourlyWeatherInfos","UpdateHourlyWeatherInfos","setIsLoadingDetailedData","SetIsLoadingDetailedData","WeatherInfo","wheaterInfo","whaterInfoText","Thunderstorm","Drizzle","Rain","Snow","Atmosphere","Clear","Clouds","DailyWeatherInfo","weatherInfoMap","weatherInfoIcon","dt","temp","min","max","weatherInfoEnum","weatherInfo","weather","icon","id","HourlyWeatherInfo","temperature","weatherInfo5Days3HoursForecastMapInterface","main","OpenWeatherMap5Day3HoursWeatherInfoResponse","cod","list","city","OpenWeatherMapWeekResponse","dailyWeatherInfo","lat","lon","timezone","timezone_offset","daily","loadWeekWeatherInfo","process","axios","get","response","status","openWeatherMapWeekResponse","plainToClass","data","load5Days3HoursForecastWeatherInfo","openWeatherMap5Day3HoursWeatherInfoResponse","WeatherDataUtilities","setIsLoadingDetailedDataFunction","updateHourlyWeatherInfosFunction","updateWeekWeatherInfosFunction","then","hourlyWeatherInfo","hourWeatherInfos","hourlyWeatherInfoMap","fromWeatherInfo5Days3HoursForecastMapInterface","sort","weatherInfoA","weatherInfoB","getTime","coord","weekWeatherInfo","fromWeatherInfoMapInterface","filter","length","slice","HomePage","useState","isLoading","setLoading","rootDispatcher","useDispatch","useEffect","fetchMyAPI","loadData","loadUserLocationIfNeeded","CircularProgress","dayWeatherInfo","getWindowDimensions","window","width","innerWidth","height","innerHeight","withTooltip","d","margin","top","right","bottom","left","showTooltip","hideTooltip","tooltipData","tooltipTop","tooltipLeft","getTemperatureValue","bisectDate","bisector","yMean","mean","yMin","yMax","xDateValues","useMemo","scaleTime","range","domain","extent","yTemperatureValues","scaleLinear","nice","mainColor","tooltipStyles","defaultStyles","background","border","color","handleTooltip","useCallback","event","x","localPoint","x0","invert","index","d0","d1","valueOf","y","fill","rx","LinearGradient","from","vertical","Group","AreaClosed","yScale","Bar","onTouchStart","onTouchMove","onMouseMove","onMouseLeave","AxisLeft","scale","label","stroke","AxisBottom","Line","strokeWidth","pointerEvents","strokeDasharray","cx","cy","r","fillOpacity","strokeOpacity","TooltipWithBounds","style","Math","random","Tooltip","minWidth","textAlign","transform","toLocaleTimeString","WeatherHourlyChart","chartWidth","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","chartHeight","WeatherHourlyChartComponent","HourlyWeatherInfoPage","localHourlyWeatherInfos","setLocalHourlyWeatherInfos","history","useHistory","path","useRouteMatch","day","hourly","ButtonGroup","weekDay","isSelected","Button","onClick","push","go","store","createStore","action","Routes","basename","__","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2VAAaA,EAAb,kCAAaA,EAEOC,WAFPD,EACOE,KAAsB,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aAC3CC,KAAI,SAACC,GAAD,OAAaA,EAAQC,UAAU,EAAG,MAF3FL,EAIFM,qCAAuC,SAACF,GAC3CA,EAAUA,EAAQG,QAAQ,IAAK,IAE/B,IAAMC,EAAeR,EAAcE,KAAKO,QAAQL,GAChD,IAAsB,IAAlBI,EAAqB,CACrB,IAAME,EAA6BV,EAAcW,8BAA8BP,GAC/E,GAAmC,OAA/BM,EACA,MAAM,IAAIE,MAAJ,yBAA4BR,IAEtC,OAAOM,EAGX,IAAMG,EAAO,IAAIC,KAAKA,KAAKC,OAGvBC,EAAiBR,EAFGK,EAAKI,SAQ7B,OALID,EAAiB,IACjBA,GAAkC,GAEtCH,EAAKK,QAAQL,EAAKM,UAAYH,GAEvBH,GAzBFb,EA4BMW,8BAAgC,SAACS,GAC5C,IAAMP,EAAO,IAAIC,KAAKA,KAAKC,OAE3B,OAAQK,EAAgBC,eACpB,IAAK,QACD,OAAOR,EAEX,IAAK,YAED,OADAA,EAAKK,QAAQL,EAAKM,UAAY,GACvBN,EAEX,IAAK,WAED,OADAA,EAAKK,QAAQL,EAAKM,UAAY,GACvBN,EAGf,OAAO,MA5CFb,EA+CFsB,iBAAmB,SAACC,GACvB,IAAMR,EAAMf,EAAcwB,iCAAiC,IAAIV,KAAKA,KAAKC,QAGzE,OAFAQ,EAAkBvB,EAAcwB,iCAAiCD,GAE7DR,EAAIU,gBAAkBF,EAAgBE,cAClCV,EAAIW,aAAeH,EAAgBG,WAC5BH,EAAgBJ,UAAYJ,EAAII,UAEhCI,EAAgBG,WAAaX,EAAIW,WAGrCH,EAAgBE,cAAgBV,EAAIU,eA1D1CzB,EA8DMwB,iCAAmC,SAACX,GAM/C,OALAA,EAAKc,SAAS,GACdd,EAAKe,WAAW,GAChBf,EAAKgB,WAAW,GAChBhB,EAAKiB,gBAAgB,GAEdjB,G,kBC1DFkB,EAAmB,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,iBACjC,OACE,cAAC,IAAD,CACEC,GAAE,WAAMjC,EAAcE,KAAK8B,EAAiBnB,KAAKI,WACjDiB,UAAU,gBAFZ,SAGE,sBAAKA,UAAU,uBAAf,UACE,qBAAKA,UAAU,UAAf,SACGlC,EAAcC,UAAU+B,EAAiBnB,KAAKI,YAGjD,qBAAKiB,UAAU,cACbC,IAAI,cACJC,IAAKJ,EAAiBK,kBAExB,sBAAKH,UAAU,eAAf,UACE,sBAAKA,UAAU,iBAAf,UACqC,EAAlCF,EAAiBM,eADpB,UAGA,sBAAKJ,UAAU,iBAAf,UACqC,EAAlCF,EAAiBO,eADpB,mB,oDCfK,SAASC,IAAiB,IAC7BC,EAAiBC,aAAsD,SAACC,GAC5E,MAAO,CACHF,aAAcE,EAAMF,iBAFpBA,aAMR,OACI,cAACG,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACI,eAACC,EAAA,EAAD,CAASZ,UAAU,oBAAnB,UACI,cAAC,IAAD,CAAMD,GAAG,IAAIC,UAAU,gBAAvB,SACI,cAACa,EAAA,EAAD,CAAYC,QAAQ,KAApB,4BAIJ,gCACI,cAACD,EAAA,EAAD,CAAYC,QAAQ,KAApB,SACK,IAAIlC,KAAKA,KAAKC,OAAOkC,iBAEzBR,GACGA,EAAaS,a,ICPzBC,E,QC1BSC,E,WAKjB,WAAYC,EAAkBC,GAAoB,yBAJlDD,cAIiD,OAHjDC,eAGiD,OAFjDJ,UAEiD,EAC7CK,KAAKF,SAAWA,EAChBE,KAAKD,UAAYA,E,4DAGrB,WACI,IAAME,EAA6B,IAAIJ,EACnC,YACC,WAIL,OAFAI,EAA2BN,KAAO,gBAE3BM,M,KCfFC,EAAb,6GACI,SAAgChB,EAAwCiB,GACpE,OAAO,IAAIC,QAAJ,uCAAkB,WAAOC,EAASC,GAAhB,eAAAC,EAAA,8DACAC,IAAjBtB,EADiB,uBAEjBmB,IAFiB,mDAOQH,EAAkBO,0BAP1B,OAObvB,EAPa,OAQjBiB,EAA2BjB,GARV,2EAWjBmB,IAXiB,6EAAlB,2DAFf,qCAkBI,WACI,OAAO,IAAID,SAAsB,SAACC,EAASK,GACvC,IACI,GAAI,gBAAiBC,UAAW,CAU5BA,UAAUC,YAAYC,oBATG,SAACC,GACtB,IAAM5B,EAAe,IAAIW,EAAaiB,EAASC,OAAOjB,SAAUgB,EAASC,OAAOhB,WAChFM,EAAQnB,MAGW,WACnBwB,EAAO,sCAKXA,EAAO,8BAEb,MAAOJ,GACLI,EAAO,gCAAD,OAAiCJ,YApCvD,K,QCAqBU,EAGjB,WAAY9B,GAA6B,yBAFzCA,kBAEwC,EACpCc,KAAKd,aAAeA,GHQtB+B,EAA+B,CACjCC,qBAAiBV,EACjBtB,kBAAcsB,EACdW,sBAAkBX,EAClBY,wBAAoBZ,EACpBa,uBAAuB,I,SAOfzB,O,iDAAAA,I,2CAAAA,I,mDAAAA,I,uDAAAA,I,wDAAAA,M,KAQL,IIlCK0B,ECOCC,EAIT,WAAYC,GAAqC,IAAD,gCAF/BA,cAE+B,OAIhDC,sBAAwB,SAACP,GAAD,OAAsC,EAAKM,SAAS,CACxEE,KAAM9B,EAAW+B,sBACjBC,QAAS,CACLV,sBAPwC,KAWhDW,mBAAqB,SAAC3C,GAAD,OAAgC,EAAKsC,SAAS,CAC/DE,KAAM9B,EAAWkC,mBACjBF,QAAS,CACL1C,mBAdwC,KAkBhD6C,uBAAyB,SAACZ,GAAD,OAA+C,EAAKK,SAAS,CAClFE,KAAM9B,EAAWoC,uBACjBJ,QAAS,CACLT,uBArBwC,KAyBhDc,yBAA2B,SAACb,GAAD,OAAkD,EAAKI,SAAS,CACvFE,KAAM9B,EAAWsC,yBACjBN,QAAS,CACLR,yBA5BwC,KAgChDe,yBAA2B,SAACd,GAAD,OAAoC,EAAKG,SAAS,CACzEE,KAAM9B,EAAWwC,yBACjBR,QAAS,CACLP,4BAlCJrB,KAAKwB,SAAWA,G,0BDZZF,O,+BAAAA,I,qBAAAA,I,eAAAA,I,eAAAA,I,2BAAAA,I,iBAAAA,I,oBAAAA,M,KAUL,IAAMe,EAKT,WAAY/E,EAAYgF,EAA8BxD,GAA0B,IAAD,gCAJ/ExB,UAI+E,OAH/EgF,iBAG+E,OAF/ExD,qBAE+E,OAM/EyD,eAAiB,WACb,OAAQ,EAAKD,aACT,KAAKhB,EAAgBkB,aAAc,MAAO,eAC1C,KAAKlB,EAAgBmB,QAAS,MAAO,UACrC,KAAKnB,EAAgBoB,KAAM,MAAO,OAClC,KAAKpB,EAAgBqB,KAAM,MAAO,OAClC,KAAKrB,EAAgBsB,WAAY,MAAO,aACxC,KAAKtB,EAAgBuB,MAAO,MAAO,QACnC,KAAKvB,EAAgBwB,OAAQ,MAAO,SAEpC,QACI,MAAO,KAhBf9C,KAAK1C,KAAOA,EACZ0C,KAAKsC,YAAcA,EACnBtC,KAAKlB,gBAAkBA,GEflBiE,EAAb,kDAII,WAAYzF,EAAY0B,EAAwBD,EAAwBuD,EAA8BxD,GAA0B,IAAD,8BAC3H,cAAMxB,EAAMgF,EAAaxD,IAJ7BE,oBAG+H,IAF/HD,oBAE+H,EAE3H,EAAKC,eAAiBA,EACtB,EAAKD,eAAiBA,EAHqG,EAJnI,oEAUI,SAAmCiE,GAC/B,IACI,QAAuBxC,IAAnBwC,EACA,MAAM,IAAI3F,MAAM,+BAGpB,IAMI4F,EANE3F,EAAO,IAAIC,KAAyB,IAApByF,EAAeE,IAEjClE,EAA0BgE,EAAeG,KAAoDC,IAC7FrE,EAA0BiE,EAAeG,KAAoDE,IAE7FC,EAAmChC,EAAgBuB,MAGjDU,EAAcP,EAAeQ,QAAQ,GAI3C,OAHAP,EAAe,2CAAuCM,EAAYE,KAAnD,WAGNF,EAAYG,GAAK,IAAO,GAC7B,KAAK,EAAGJ,EAAkBhC,EAAgBkB,aAAc,MACxD,KAAK,EAAGc,EAAkBhC,EAAgBmB,QAAS,MACnD,KAAK,EAAGa,EAAkBhC,EAAgBoB,KAAM,MAChD,KAAK,EAAGY,EAAkBhC,EAAgBqB,KAAM,MAChD,KAAK,EAAGW,EAAkBhC,EAAgBsB,WAAY,MACtD,KAAK,EAEGU,EADmB,MAAnBC,EAAYG,GACMpC,EAAgBuB,MAEhBvB,EAAgBwB,OAK9C,OAAO,IAAIC,EAAiBzF,EAAM0B,EAAgBD,EAAgBuE,EAAiBL,GACrF,MAAO3C,GACL,MAAM,IAAIjD,MAAM,4BA7C5B,GAAsCgF,GCAzBsB,EAAb,kDAGI,WAAYrG,EAAYsG,EAAqBtB,EAA8BxD,GAA0B,IAAD,8BAChG,cAAMxB,EAAMgF,EAAaxD,IAH7B8E,iBAEoG,EAEhG,EAAKA,YAAcA,EAF6E,EAHxG,uFAQI,SAAsDC,GAClD,IACI,QAAmDrD,IAA/CqD,EACA,MAAM,IAAIxG,MAAM,+BAGpB,IAKI4F,EALE3F,EAAO,IAAIC,KAAqD,IAAhDsG,EAA2CX,IAE7DU,EAAsBC,EAA2CC,KAAKX,KAEtEG,EAAmChC,EAAgBuB,MAGjDU,EAAcM,EAA2CL,QAAQ,GAIvE,OAHAP,EAAe,2CAAuCM,EAAYE,KAAnD,WAGNF,EAAYG,GAAK,IAAO,GAC7B,KAAK,EAAGJ,EAAkBhC,EAAgBkB,aAAc,MACxD,KAAK,EAAGc,EAAkBhC,EAAgBmB,QAAS,MACnD,KAAK,EAAGa,EAAkBhC,EAAgBoB,KAAM,MAChD,KAAK,EAAGY,EAAkBhC,EAAgBqB,KAAM,MAChD,KAAK,EAAGW,EAAkBhC,EAAgBsB,WAAY,MACtD,KAAK,EAEGU,EADmB,MAAnBC,EAAYG,GACMpC,EAAgBuB,MAEhBvB,EAAgBwB,OAK9C,OAAO,IAAIa,EAAkBrG,EAAMsG,EAAaN,EAAiBL,GACnE,MAAO3C,GACL,MAAM,IAAIjD,MAAM,uBA1C5B,GAAuCgF,G,yBCuBlB0B,EAKjB,WAAYC,EAAaC,EAAyDC,GAAoC,yBAJtHF,SAIqH,OAHrHC,UAGqH,OAFrHC,UAEqH,EACjHlE,KAAKgE,IAAMA,EACXhE,KAAKiE,KAAOA,EACZjE,KAAKkE,KAAOA,GCpBPC,EAAb,kDAGI,WAAYC,EAAkDC,EAAaC,EAAaC,EAAkBC,GAA0B,IAAD,8BAC/H,cAAMH,EAAKC,EAAKC,EAAUC,IAH9BC,WAEmI,EAE/H,EAAKA,MAAQL,EAFkH,EAHvI,WCRI,WAAYC,EAAaC,EAAaC,EAAkBC,GAA0B,yBALlFH,SAKiF,OAJjFC,SAIiF,OAHjFC,cAGiF,OAFjFC,qBAEiF,EAC7ExE,KAAKqE,IAAMA,EACXrE,KAAKsE,IAAMA,EACXtE,KAAKuE,SAAWA,EAChBvE,KAAKwE,gBAAkBA,KCCxB,SAAeE,EAAtB,oC,4CAAO,WAAmC5E,EAAkBC,GAArD,iBAAAQ,EAAA,sEAakCoE,mCAblC,SAcwBC,IAAMC,IAAN,8DACoC/E,EADpC,gBACoDC,EADpD,yDADU4E,mCACV,oBAdxB,UAkByB,OAJlBG,EAdP,QAkBcC,OAlBd,wBAmBSC,EAAyDC,YAAad,EAA4BW,EAASI,MAnBpH,kBAoBYF,GApBZ,sCAsBYxE,GAtBZ,wFAyBQA,GAzBR,2D,sBA6BA,SAAe2E,EAAtB,oC,4CAAO,WAAkDrF,EAAkBC,GAApE,iBAAAQ,EAAA,sEAakCoE,mCAblC,SAcwBC,IAAMC,IAAN,+DACqC/E,EADrC,gBACqDC,EADrD,kBADU4E,mCACV,oBAdxB,UAkByB,OAJlBG,EAdP,QAkBcC,OAlBd,wBAmBWK,EAA2FH,YAAalB,EAA6Ce,EAASI,MAnBzK,kBAoBYE,GApBZ,sCAsBY5E,GAtBZ,wFAyBQA,GAzBR,2D,sBCjCA,IAAM6E,EAAb,sIACI,WACIC,EACAC,EACApF,EACAqF,EACAtG,EAA6BkC,EAA+CD,GALhF,iFAOyBX,IAAjBtB,EAPR,wBASmCsB,IAAvBY,IACAkE,GAAiC,GACjCH,EAAmCjG,EAAcY,SAAUZ,EAAca,WAAW0F,MAAK,SAACC,GACtF,QAA0BlF,IAAtBkF,EAAiC,CACjC,IAAIC,EAAmBD,EAAkBzB,KAAKrH,KAAI,SAACgJ,EAAsBtF,GAAvB,OAA6BqD,EAAkBkC,+CAA+CD,MAChJD,EAAiBG,MAAK,SAACC,EAAcC,GAAf,OAAgCD,EAAazI,KAAK2I,UAAYD,EAAa1I,KAAK2I,aAEtGV,EAAiCI,GACjCL,GAAiC,GAEjC,IAAIpG,EAAe,IAAIW,EAAa6F,EAAkBxB,KAAKgC,MAAM7B,IAAKqB,EAAkBxB,KAAKgC,MAAM5B,KACnGpF,EAAaS,KAAO+F,EAAkBxB,KAAKvE,KAC3CQ,EAA2BjB,aAMdsB,IAArBW,EA3BZ,gCA4B0CuD,EAAoBxF,EAAcY,SAAUZ,EAAca,WA5BpG,YA6BoCS,KADlB2F,EA5BlB,WA8BoBhF,EAAmBgF,EAAgB1B,MAAM7H,KAAI,SAACoG,EAAgB1C,GAAjB,OAAuByC,EAAiBqD,4BAA4BpD,OACpG8C,MAAK,SAACC,EAAcC,GAAf,OAAgCD,EAAazI,KAAK2I,UAAYD,EAAa1I,KAAK2I,cACtG9E,EAAmBA,EAAiBkF,QAAO,SAAC9C,GAAD,OAAiB9G,EAAcsB,iBAAiBwF,EAAYjG,UAElFgJ,OAAS,IAC1BnF,EAAmBA,EAAiBoF,MAAM,EAAG,IAGjDf,EAA+BrE,IAtC/C,2CADJ,0ECaO,SAASqF,IAAY,IAAD,EACSC,oBAAkB,GAD3B,mBAChBC,EADgB,KACLC,EADK,OAGwCxH,aAAsD,SAACC,GAClH,MAAO,CACHF,aAAcE,EAAMF,aACpBiC,iBAAkB/B,EAAM+B,iBACxBC,mBAAoBhC,EAAMgC,uBAJ1BlC,EAHe,EAGfA,aAAciC,EAHC,EAGDA,iBAAkBC,EAHjB,EAGiBA,mBAQlCwF,EAAiB,IAAIrF,EAAesF,eAoC1C,OAlCAC,qBAAU,WAAM,4CACZ,sBAAAvG,EAAA,sEACU8E,EAAqB0B,WACvBH,EAAezE,yBACfyE,EAAe3E,yBACf2E,EAAe/E,mBACf+E,EAAe7E,uBACf7C,EACAkC,EACAD,GARR,4CADY,sBAaZwF,GAAW,GAbE,WAAD,+BAcZK,GAAWvB,MACP,kBAAMkB,GAAW,QAGtB,CAACzH,IAEJ4H,qBAAU,WAAM,4CACZ,sBAAAvG,EAAA,sEACUL,EAAkB+G,yBACpB/H,EACA0H,EAAe/E,oBAHvB,4CADY,sBAQZ8E,GAAW,GARE,WAAD,+BASZK,GAAWvB,MACP,kBAAMkB,GAAW,QAEtB,IAGC,sBAAKhI,UAAU,eAAf,UACI,cAACM,EAAD,IAEA,qBAAKN,UAAU,kBAAf,SACK+H,EACG,qBAAK/H,UAAU,kCAAf,SACI,cAACuI,EAAA,EAAD,WAEmB1G,IAArBW,GACFA,EAAiBvE,KAAI,SAACuK,EAAgB7G,GAAjB,OACjB,cAAC,EAAD,CAAkB7B,iBAAkB0I,YC5E5D,SAASC,IAAuB,IAAD,EACwBC,OACnD,MAAO,CACHC,MAHuB,EACnBC,WAGJC,OAJuB,EACAC,a,mLCkBhBC,iBACX,YAU0D,IAQ7BC,EAjBzBL,EASqD,EATrDA,MACAE,EAQqD,EARrDA,OAQqD,IAPrDI,cAOqD,MAP5C,CAAEC,IAAK,EAAGC,MAAO,EAAGC,OAAQ,EAAGC,KAAM,GAOO,EANrDC,EAMqD,EANrDA,YACAC,EAKqD,EALrDA,YACAC,EAIqD,EAJrDA,YAIqD,IAHrDC,kBAGqD,MAHxC,EAGwC,MAFrDC,mBAEqD,MAFvC,EAEuC,EADrD5J,EACqD,EADrDA,iBAGM8I,EAAaD,EAAQM,EAAOI,KAAOJ,EAAOE,MAC1CL,EAAcD,EAASI,EAAOC,IAAMD,EAAOG,OAG3CnK,EAAU,SAAC+J,GAAD,OAAgCA,EAAErK,MAC5CgL,EAAsB,SAACX,GAAD,OAAkCA,EAAE/D,aAG1D2E,EAAaC,cAAkC,SAAAb,GAAC,OAAI,IAAIpK,KAAKoK,EAAErK,SAAO0K,KAGtES,EAASC,aAAKjK,EAAkB6J,IAAwB,EACxDK,GAAQvF,aAAI3E,EAAkB6J,IAAwB,GAAKG,EAAQ,GACnEG,GAAQvF,aAAI5E,EAAkB6J,IAAwB,GAAKG,EAAQ,GAEnEI,EAAcC,mBAChB,kBACIC,YAAU,CACNC,MAAO,CAACpB,EAAOI,KAAMT,EAAaK,EAAOI,MACzCiB,OAAQC,aAAOzK,EAAkBb,OAEzC,CAAC2J,EAAYK,EAAOI,OAElBmB,EAAqBL,mBACvB,kBACIM,YAAY,CACRJ,MAAO,CAACvB,EAAcG,EAAOC,IAAKD,EAAOC,KACzCoB,OAAQ,CAACN,EAAMC,GACfS,MAAM,MAEd,CAACzB,EAAOC,IAAKJ,IAIX6B,EAAY,UAEZC,EAAa,2BACZC,MADY,IAEfC,WAAYH,EACZI,OAAQ,kBACRC,MAAO,UAILC,EAAgBC,uBAClB,SAACC,GAAgF,IACrEC,GAAMC,aAAWF,IAAU,CAAEC,EAAG,IAAhCA,EACFE,EAAKpB,EAAYqB,OAAOH,GACxBI,EAAQ5B,EAAW9J,EAAkBwL,EAAI,GACzCG,EAAK3L,EAAiB0L,EAAQ,GAC9BE,EAAK5L,EAAiB0L,GACxBxC,EAAIyC,EACJC,GAAMzM,EAAQyM,KACd1C,EAAIsC,EAAGK,UAAY1M,EAAQwM,GAAIE,UAAY1M,EAAQyM,GAAIC,UAAYL,EAAGK,UAAYD,EAAKD,GAE3FnC,EAAY,CACRE,YAAaR,EACbU,YAAa0B,EACb3B,WAAYe,EAAmBb,EAAoBX,QAG3D,CAACM,EAAakB,EAAoBN,IAGtC,OACI,sBAAKlK,UAAU,yBAAf,UACI,sBAAK2I,MAAOA,EAAOE,OAAQA,EAA3B,UACI,sBACIuC,EAAGnC,EAAOI,KACVuC,EAAG3C,EAAOC,IACVP,MAAOC,EACPC,OAAQC,EACR+C,KAAK,iCACLC,GAAI,KAER,cAACC,GAAA,EAAD,CAAgBhH,GAAG,2BAA2BiH,KAAK,UAAUjM,GAAG,UAAUkM,UAAQ,IAClF,cAACF,GAAA,EAAD,CACIC,KAAK,UACLjM,GAAG,UACHgF,GAAG,WACHkH,UAAU,IAEd,eAACC,GAAA,EAAD,CAAOhD,IAAK,EAAGG,KAAM,EAArB,UACI,cAAC8C,GAAA,EAAD,CACI5F,KAAMzG,EACNsL,EAAG,SAAApC,GAAC,uBAAIkB,EAAYjL,EAAQ+J,WAAxB,QAA+B,GACnC4C,EAAG,SAAA5C,GAAC,uBAAIwB,EAAmBb,EAAoBX,WAA3C,QAAkD,GACtDoD,OAAQ5B,EACRqB,KAAK,mBAGT,cAACQ,GAAA,EAAD,CACIjB,EAAGnC,EAAOI,KACVuC,EAAG3C,EAAOC,IACVP,MAAOC,EACPC,OAAQC,EACR+C,KAAK,cACLC,GAAI,GACJQ,aAAcrB,EACdsB,YAAatB,EACbuB,YAAavB,EACbwB,aAAc,kBAAMlD,OAGxB,cAACmD,EAAA,EAAD,CACIC,MAAOnC,EACPtB,IAAK,EACLG,KAAMJ,EAAOI,KACbuD,MAAO,sBACPC,OAAQ,YAGZ,cAACC,EAAA,EAAD,CACIH,MAAOzC,EACPhB,IAAKJ,EAAcG,EAAOC,IAC1B0D,MAAO,OACPC,OAAQ,YAEXrD,GACG,8BACI,cAACuD,GAAA,EAAD,CACIf,KAAM,CAAEZ,EAAG1B,EAAakC,EAAG3C,EAAOC,KAClCnJ,GAAI,CAAEqL,EAAG1B,EAAakC,EAAG9C,EAAcG,EAAOC,KAC9C2D,OAAQlC,EACRqC,YAAa,EACbC,cAAc,OACdC,gBAAgB,QAEpB,wBACIC,GAAIzD,EACJ0D,GAAI3D,EAAa,EACjB4D,EAAG,EACHxB,KAAK,QACLyB,YAAa,GACbT,OAAO,QACPU,cAAe,GACfP,YAAa,EACbC,cAAc,SAElB,wBACIE,GAAIzD,EACJ0D,GAAI3D,EACJ4D,EAAG,EACHxB,KAAMlB,EACNkC,OAAO,QACPG,YAAa,EACbC,cAAc,kBAMjCzD,GACG,gCACI,eAACgE,GAAA,EAAD,CAEItE,IAAKO,EAAa,GAClBJ,KAAMK,EAAc,GACpB+D,MAAO7C,EAJX,oBAMQjB,EAAoBH,GAN5B,cAM+C,uBAN/C,WApJSR,EA2JeQ,EA3JkBR,EAAEpF,qBAqJnC8J,KAAKC,UAQd,cAACC,GAAA,EAAD,CACI1E,IAAKJ,EAAcG,EAAOC,IAAM,GAChCG,KAAMK,EACN+D,MAAK,2BACE5C,MADF,IAEDgD,SAAU,GACVC,UAAW,SACXC,UAAW,qBAPnB,SAUM9O,EAAQuK,GAAawE,gCCnLtCC,GAAqB,SAAC,GAAkD,IAAhDnO,EAA+C,EAA/CA,iBAI7BmJ,EAAS,CACbC,IAAK,GACLG,KAAM,GACNF,MAAO,GACPC,OAAQ,IAGJ8E,EAAqB,GF7Bd,WAAgC,IAAD,EACMpG,mBAASW,KADf,mBACnC0F,EADmC,KACjBC,EADiB,KAY1C,OATAjG,qBAAU,WACN,SAASkG,IACLD,EAAoB3F,KAIxB,OADAC,OAAO4F,iBAAiB,SAAUD,GAC3B,kBAAM3F,OAAO6F,oBAAoB,SAAUF,MACnD,IAEIF,EEOSK,GAAV7F,MAWF8F,EAAc,IAAMxF,EAAOC,IAAMD,EAAOG,OAE9C,OACE,cAACsF,GAAD,CACE5O,iBAAkBA,EAClB+I,OAAQ4F,EACR9F,MAAOuF,EACPjF,OAAQA,K,6BCxBC,SAAS0F,KAAyB,IAAD,EACkB7G,wBAA+CjG,GADjE,mBACrC+M,EADqC,KACZC,EADY,OAEZ/G,oBAAkB,GAFN,mBAErCC,EAFqC,KAE1BC,EAF0B,KAItC8G,EAAUC,cAJ4B,EAM0CvO,aAAsD,SAACC,GACzI,MAAO,CACHF,aAAcE,EAAMF,aACpBkC,mBAAoBhC,EAAMgC,mBAC1BC,sBAAuBjC,EAAMiC,sBAC7BF,iBAAkB/B,EAAM+B,qBALxBjC,EANoC,EAMpCA,aAAckC,EANsB,EAMtBA,mBAAoBC,EANE,EAMFA,sBAAuBF,EANrB,EAMqBA,iBAS3DyF,EAAiB,IAAIrF,EAAesF,eAElC8G,EAASC,cAATD,KAEFE,EAAM,kBAAYpR,EAAcM,qCAAqC4Q,IA0C3E,OAxCA7G,qBAAU,WAAM,4CACZ,sBAAAvG,EAAA,sEACU8E,EAAqB0B,WACvBH,EAAezE,yBACfyE,EAAe3E,yBACf2E,EAAe/E,mBACf+E,EAAe7E,uBACf7C,EACAkC,EACAD,GARR,4CADY,uBAAC,WAAD,wBAaZ6F,KAED,CAAC9H,IAEJ4H,qBAAU,WACN,QAA2BtG,IAAvBY,EAAkC,CAClC,IAAM9D,EAAeuQ,IAAMjQ,UACrB2P,EAA0BnM,EAAmBiF,QAAO,SAACyH,GAAD,OAAYA,EAAOxQ,KAAKM,YAAcN,KAEhGkQ,EAA2BD,MAEhC,CAACnM,IAEJ0F,qBAAU,WAAM,4CACZ,sBAAAvG,EAAA,sEACUL,EAAkB+G,yBACpB/H,EACA0H,EAAe/E,oBAHvB,4CADY,sBAQZ8E,GAAW,GARE,WAAD,+BASZK,GAAWvB,MACP,kBAAMkB,GAAW,QAEtB,IAGC,sBAAKhI,UAAU,wBAAf,UACI,cAACM,EAAD,IAEA,sBAAKN,UAAU,yBAAf,UACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,mCAAf,SACKkP,IAAMnO,iBAGVyB,GACG,cAAC4M,GAAA,EAAD,CAAapP,UAAU,8CAAvB,SACKwC,EAAiBvE,KAAI,SAACuK,GACnB,IAAM6G,EAAUvR,EAAcE,KAAKwK,EAAe7J,KAAKI,UAEjDuQ,EAAaJ,IAAMnQ,WAAayJ,EAAe7J,KAAKI,SAE1D,OACI,cAACwQ,GAAA,EAAD,CACIC,QAAS,WACLV,EAAQW,KAAR,WAAiBJ,IACjBP,EAAQY,GAAG,IAEf1P,UAAWsP,EAAa,iDAAmD,GAL/E,SAMKD,YAQxB3M,GAAyBqF,EACtB,qBAAK/H,UAAU,yCAAf,SACI,cAACuI,EAAA,EAAD,WAE0B1G,IAA5B+M,GACF,cAAC,GAAD,CACI9O,iBAAkB8O,U,aCvH7Be,GAAQC,clB+B+C,WAAmC,IAAlCnP,EAAiC,uDAAzB6B,EAAcuN,EAAW,uCAClG,OAAQA,EAAO9M,MACX,KAAK9B,EAAW+B,sBACZ,OAAO,2BACAvC,GADP,IAEI8B,gBAAiBsN,EAAO5M,QAAQV,kBAGxC,KAAKtB,EAAWkC,mBASZ,YAP8BtB,IAA1BpB,EAAM8B,gBACY9B,EAAM8B,gBACRhC,aAAesP,EAAO5M,QAAQ1C,aAE5B,IAAI8B,EAAgBwN,EAAO5M,QAAQ1C,cAGlD,2BACAE,GADP,IAEI8B,gBAAiBsN,EAAO5M,QAAQV,gBAChChC,aAAcsP,EAAO5M,QAAQ1C,eAGrC,KAAKU,EAAWoC,uBACZ,OAAO,2BACA5C,GADP,IAEI+B,iBAAkBqN,EAAO5M,QAAQT,mBAGzC,KAAKvB,EAAWsC,yBACZ,OAAO,2BACA9C,GADP,IAEIgC,mBAAoBoN,EAAO5M,QAAQR,qBAG3C,KAAKxB,EAAWwC,yBACZ,OAAO,2BACAhD,GADP,IAEIiC,sBAAuBmN,EAAO5M,QAAQP,wBAG9C,QACI,OAAOjC,MmBrEJ,SAASqP,KACpB,OACI,cAAC,IAAD,CAAUH,MAAOA,GAAjB,SACI,cAAC,IAAD,CAAeI,SAAU/J,mBAAzB,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOgJ,KAEI,CAAC,aAFD,mBAGAlR,EAAcE,KAAKC,KAAI,SAACiR,EAAKvN,EAAGqO,GAAT,iBAAoBd,QAElDe,UAAWtB,KAEf,cAAC,IAAD,CAAOK,KAAK,IAAIiB,UAAWpI,WCd/CqI,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACN,GAAD,MAEFO,SAASC,eAAe,W","file":"static/js/main.0fe22c54.chunk.js","sourcesContent":["export class DateUtilities {\r\n    static readonly days: Array<String> = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n    static readonly shortDays: Array<String> = DateUtilities.days.map((dayName) => dayName.substring(0, 3));\r\n\r\n    static getDateAccordingToCurrentWeekDayName = (dayName: string): Date => {\r\n        dayName = dayName.replace('/', '');\r\n\r\n        const dayNameIndex = DateUtilities.days.indexOf(dayName);\r\n        if (dayNameIndex === -1) {\r\n            const dateAccordingToRelativeDay = DateUtilities.getDateAccordingToRelativeDay(dayName);\r\n            if (dateAccordingToRelativeDay !== null) {\r\n                throw new Error(`Date invalid - ${dayName}`);\r\n            }\r\n            return dateAccordingToRelativeDay!;\r\n        }\r\n\r\n        const date = new Date(Date.now());\r\n        const dayNameNowIndex = date.getDay();\r\n\r\n        let differenceDays = dayNameIndex - dayNameNowIndex;\r\n        if (differenceDays < 0) {\r\n            differenceDays = differenceDays + 7;\r\n        }\r\n        date.setDate(date.getDate() + differenceDays);\r\n\r\n        return date;\r\n    }\r\n\r\n    private static getDateAccordingToRelativeDay = (relativeDayName: string): Date | null => {\r\n        const date = new Date(Date.now());\r\n\r\n        switch (relativeDayName.toLowerCase()) {\r\n            case 'today':\r\n                return date;\r\n\r\n            case 'yesterday':\r\n                date.setDate(date.getDate() - 1);\r\n                return date;\r\n\r\n            case 'tomorrow':\r\n                date.setDate(date.getDate() + 1);\r\n                return date;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    static dateIsAfterToday = (comparativeDate: Date): boolean => {\r\n        const now = DateUtilities.resetHourMinuteSecondMillisecond(new Date(Date.now()));\r\n        comparativeDate = DateUtilities.resetHourMinuteSecondMillisecond(comparativeDate);\r\n        \r\n        if (now.getFullYear() === comparativeDate.getFullYear()) {\r\n            if (now.getMonth() === comparativeDate.getMonth()) {\r\n                return comparativeDate.getDate() > now.getDate();\r\n            } else {\r\n                return comparativeDate.getMonth() > now.getMonth();\r\n            }\r\n        } else {\r\n            return comparativeDate.getFullYear() > now.getFullYear();\r\n        }\r\n    }\r\n\r\n    private static resetHourMinuteSecondMillisecond = (date: Date): Date => {\r\n        date.setHours(0);\r\n        date.setMinutes(0);\r\n        date.setSeconds(0);\r\n        date.setMilliseconds(0);\r\n        \r\n        return date;\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { DailyWeatherInfo } from '../../data/model/WeatherInfo/DailyWeatherInfo';\r\nimport { DateUtilities } from '../../utils/dateUtils';\r\nimport './styles.scss';\r\n\r\ntype WeatherDailyInfoProps = {\r\n  weatherDailyInfo: DailyWeatherInfo\r\n}\r\n\r\nexport const WeatherDailyInfo = ({ weatherDailyInfo }: WeatherDailyInfoProps) => {\r\n  return (\r\n    <Link\r\n      to={`/${DateUtilities.days[weatherDailyInfo.date.getDay()]}`}\r\n      className=\"DefaultAnchor\">\r\n      <div className=\"WeatherDailyInfoMain\">\r\n        <div className=\"DayName\">\r\n          {DateUtilities.shortDays[weatherDailyInfo.date.getDay()]}\r\n        </div>\r\n\r\n        <img className=\"WeatherIcon\"\r\n          alt=\"WeatherIcon\"\r\n          src={weatherDailyInfo.wheaterInfoIcon} />\r\n\r\n        <div className=\"Temperatures\">\r\n          <div className=\"MaxTemperature\">\r\n            {weatherDailyInfo.maxTemperature | 0}ยบ\r\n          </div>\r\n          <div className=\"MinTemperature\">\r\n            {weatherDailyInfo.minTemperature | 0}ยบ\r\n          </div>\r\n        </div >\r\n      </div>\r\n    </Link>\r\n  );\r\n}","import AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport './styles.scss';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector } from 'react-redux';\r\nimport UserLocation from '../../data/model/UserPreferences/UserLocation';\r\n\r\ninterface StateInterfaceProps {\r\n    userLocation: UserLocation | undefined;\r\n}\r\n\r\nexport default function DefaultAppBar() {\r\n    const { userLocation } = useSelector<StateInterfaceProps, StateInterfaceProps>((state: StateInterfaceProps) => {\r\n        return {\r\n            userLocation: state.userLocation,\r\n        }\r\n    });\r\n    \r\n    return (\r\n        <AppBar position=\"static\">\r\n            <Toolbar className=\"DefaultAppBarMain\">\r\n                <Link to=\"/\" className=\"DefaultAnchor\">\r\n                    <Typography variant=\"h4\">\r\n                        Weather Info\r\n                    </Typography>\r\n                </Link>\r\n                <div>\r\n                    <Typography variant=\"h6\">\r\n                        {new Date(Date.now()).toDateString()}\r\n                    </Typography>\r\n                    {userLocation &&\r\n                        userLocation.name\r\n                    }\r\n                </div>\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n}","import { Action, Reducer } from \"redux\";\r\nimport UserLocation from \"../data/model/UserPreferences/UserLocation\";\r\nimport UserPreferences from \"../data/model/UserPreferences/UserPreferences\";\r\nimport { DailyWeatherInfo } from \"../data/model/WeatherInfo/DailyWeatherInfo\";\r\nimport { HourlyWeatherInfo } from \"../data/model/WeatherInfo/HourlyWeatherInfo\";\r\n\r\nexport interface StateInterface {\r\n    userPreferences: UserPreferences | undefined;\r\n    userLocation: UserLocation | undefined;\r\n    weekWeatherInfos: Array<DailyWeatherInfo> | undefined;\r\n    hourlyWeatherInfos: Array<HourlyWeatherInfo> | undefined;\r\n    isLoadingDetailedData?: boolean;\r\n}\r\n\r\nconst initialState: StateInterface = {\r\n    userPreferences: undefined,\r\n    userLocation: undefined,\r\n    weekWeatherInfos: undefined,\r\n    hourlyWeatherInfos: undefined,\r\n    isLoadingDetailedData: false,\r\n};\r\n\r\nexport interface DispatchAction extends Action<ActionType> {\r\n    payload: Partial<StateInterface>;\r\n}\r\n\r\nexport enum ActionType {\r\n    UpdateUserPreferences,\r\n    UpdateUserLocation,\r\n    UpdateWeekWeatherInfos,\r\n    UpdateHourlyWeatherInfos,\r\n    SetIsLoadingDetailedData\r\n}\r\n\r\nexport const rootReducer: Reducer<StateInterface, DispatchAction> = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ActionType.UpdateUserPreferences:\r\n            return {\r\n                ...state,\r\n                userPreferences: action.payload.userPreferences\r\n            };\r\n\r\n        case ActionType.UpdateUserLocation:\r\n            let userPreferences: UserPreferences;\r\n            if (state.userPreferences !== undefined) {\r\n                userPreferences = state.userPreferences!;\r\n                userPreferences.userLocation = action.payload.userLocation!;\r\n            } else {\r\n                userPreferences = new UserPreferences(action.payload.userLocation!);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                userPreferences: action.payload.userPreferences,\r\n                userLocation: action.payload.userLocation,\r\n            };\r\n\r\n        case ActionType.UpdateWeekWeatherInfos:\r\n            return {\r\n                ...state,\r\n                weekWeatherInfos: action.payload.weekWeatherInfos,\r\n            };\r\n\r\n        case ActionType.UpdateHourlyWeatherInfos:\r\n            return {\r\n                ...state,\r\n                hourlyWeatherInfos: action.payload.hourlyWeatherInfos,\r\n            };\r\n\r\n        case ActionType.SetIsLoadingDetailedData:\r\n            return {\r\n                ...state,\r\n                isLoadingDetailedData: action.payload.isLoadingDetailedData,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};","export default class UserLocation {\r\n    latitude: number;\r\n    longitude: number;\r\n    name?: string;\r\n\r\n    constructor(latitude: number, longitude: number) {\r\n        this.latitude = latitude;\r\n        this.longitude = longitude;\r\n    }\r\n\r\n    static defaultUserLocation(): UserLocation {\r\n        const oldTraffordStadiumLocation = new UserLocation(\r\n            53.4597954,\r\n            -2.2952338\r\n        );\r\n        oldTraffordStadiumLocation.name = \"Trafford Park\";\r\n\r\n        return oldTraffordStadiumLocation;\r\n    }\r\n}","import UserLocation from \"../data/model/UserPreferences/UserLocation\";\r\n\r\nexport class LocationUtilities {\r\n    static loadUserLocationIfNeeded(userLocation: UserLocation | undefined, updateUserLocationFunction: (userLocation: UserLocation) => void): Promise<void> {\r\n        return new Promise<void>(async (resolve, _) => {           \r\n            if (userLocation !== undefined) {\r\n                resolve();\r\n                return;\r\n            }\r\n\r\n            try {\r\n                let userLocation = await LocationUtilities.loadCurrentUserLocation();\r\n                updateUserLocationFunction(userLocation);\r\n            } catch (_) {\r\n            } finally {\r\n                resolve();\r\n            }\r\n        });\r\n    }\r\n\r\n    static loadCurrentUserLocation(): Promise<UserLocation> {\r\n        return new Promise<UserLocation>((resolve, reject) => {\r\n            try {\r\n                if (\"geolocation\" in navigator) {\r\n                    const successCallback = ((location: GeolocationPosition) => {\r\n                        const userLocation = new UserLocation(location.coords.latitude, location.coords.longitude);\r\n                        resolve(userLocation);\r\n                    });\r\n\r\n                    const errorCallback = (() => {\r\n                        reject('Geolocation is unavailable');\r\n                    });\r\n\r\n                    navigator.geolocation.getCurrentPosition(successCallback, errorCallback);\r\n                } else {\r\n                    reject('Geolocation is unavailable');\r\n                }\r\n            } catch (_) {\r\n                reject(`Error on get user location - ${_}`);\r\n            }\r\n        });\r\n    }\r\n}","import UserLocation from \"./UserLocation\";\r\n\r\nexport default class UserPreferences {\r\n    userLocation: UserLocation;\r\n\r\n    constructor(userLocation: UserLocation) {\r\n        this.userLocation = userLocation;\r\n    }\r\n}","export enum WeatherInfoEnum {\r\n    Thunderstorm,\r\n    Drizzle,\r\n    Rain,\r\n    Snow,\r\n    Atmosphere,\r\n    Clear,\r\n    Clouds,\r\n}\r\n\r\nexport class WeatherInfo {\r\n    date: Date;\r\n    wheaterInfo: WeatherInfoEnum;\r\n    wheaterInfoIcon: string;\r\n\r\n    constructor(date: Date, wheaterInfo: WeatherInfoEnum, wheaterInfoIcon: string) {\r\n        this.date = date;\r\n        this.wheaterInfo = wheaterInfo;\r\n        this.wheaterInfoIcon = wheaterInfoIcon;\r\n    }\r\n\r\n    whaterInfoText = (): string => {\r\n        switch (this.wheaterInfo) {\r\n            case WeatherInfoEnum.Thunderstorm: return 'Thunderstorm';\r\n            case WeatherInfoEnum.Drizzle: return 'Drizzle';\r\n            case WeatherInfoEnum.Rain: return 'Rain';\r\n            case WeatherInfoEnum.Snow: return 'Snow';\r\n            case WeatherInfoEnum.Atmosphere: return 'Atmosphere';\r\n            case WeatherInfoEnum.Clear: return 'Clear';\r\n            case WeatherInfoEnum.Clouds: return 'Clouds';\r\n\r\n            default:\r\n                return '';\r\n        }\r\n    }\r\n}","import { Dispatch } from \"redux\";\r\nimport UserLocation from \"../data/model/UserPreferences/UserLocation\";\r\nimport UserPreferences from \"../data/model/UserPreferences/UserPreferences\";\r\nimport { DailyWeatherInfo } from \"../data/model/WeatherInfo/DailyWeatherInfo\";\r\nimport { HourlyWeatherInfo } from \"../data/model/WeatherInfo/HourlyWeatherInfo\";\r\nimport { ActionType, DispatchAction } from \"./root-reducer\";\r\n\r\nexport class RootDispatcher {\r\n\r\n    private readonly dispatch: Dispatch<DispatchAction>;\r\n\r\n    constructor(dispatch: Dispatch<DispatchAction>) {\r\n        this.dispatch = dispatch;\r\n    }\r\n\r\n    updateUserPreferences = (userPreferences: UserPreferences) => this.dispatch({\r\n        type: ActionType.UpdateUserPreferences,\r\n        payload: {\r\n            userPreferences\r\n        },\r\n    });\r\n    \r\n    updateUserLocation = (userLocation: UserLocation) => this.dispatch({\r\n        type: ActionType.UpdateUserLocation,\r\n        payload: {\r\n            userLocation\r\n        },\r\n    });\r\n\r\n    updateWeekWeatherInfos = (weekWeatherInfos: Array<DailyWeatherInfo>) => this.dispatch({\r\n        type: ActionType.UpdateWeekWeatherInfos,\r\n        payload: {\r\n            weekWeatherInfos\r\n        },\r\n    });\r\n\r\n    updateHourlyWeatherInfos = (hourlyWeatherInfos: Array<HourlyWeatherInfo>) => this.dispatch({\r\n        type: ActionType.UpdateHourlyWeatherInfos,\r\n        payload: {\r\n            hourlyWeatherInfos\r\n        },\r\n    });\r\n\r\n    setIsLoadingDetailedData = (isLoadingDetailedData: boolean) => this.dispatch({\r\n        type: ActionType.SetIsLoadingDetailedData,\r\n        payload: {\r\n            isLoadingDetailedData\r\n        },\r\n    });\r\n}","import { WeatherInfoMapInterface, WeatherInfoTemperatureMapResponseInterface } from \"../OpenWeatherResponse/OpenWeatherMapWeekResponse\";\r\nimport { WeatherInfo, WeatherInfoEnum } from \"./WeatherInfo\";\r\n\r\nexport class DailyWeatherInfo extends WeatherInfo {\r\n    minTemperature: number;\r\n    maxTemperature: number;\r\n\r\n    constructor(date: Date, minTemperature: number, maxTemperature: number, wheaterInfo: WeatherInfoEnum, wheaterInfoIcon: string) {\r\n        super(date, wheaterInfo, wheaterInfoIcon);\r\n        this.minTemperature = minTemperature;\r\n        this.maxTemperature = maxTemperature;\r\n    }\r\n\r\n    static fromWeatherInfoMapInterface(weatherInfoMap?: WeatherInfoMapInterface): DailyWeatherInfo {\r\n        try {\r\n            if (weatherInfoMap === undefined) {\r\n                throw new Error(\"weatherInfoMap == undefined\");\r\n            }\r\n\r\n            const date = new Date(weatherInfoMap.dt * 1000);\r\n\r\n            let minTemperature: number = (weatherInfoMap.temp as WeatherInfoTemperatureMapResponseInterface).min;\r\n            let maxTemperature: number = (weatherInfoMap.temp as WeatherInfoTemperatureMapResponseInterface).max;\r\n\r\n            let weatherInfoEnum: WeatherInfoEnum = WeatherInfoEnum.Clear;\r\n            let weatherInfoIcon: string = '';\r\n\r\n            const weatherInfo = weatherInfoMap.weather[0];\r\n            weatherInfoIcon = `http://openweathermap.org/img/wn/${weatherInfo.icon}@2x.png`;\r\n\r\n            // Get the group of weather conditions\r\n            switch ((weatherInfo.id / 100) | 0) {\r\n                case 2: weatherInfoEnum = WeatherInfoEnum.Thunderstorm; break;\r\n                case 3: weatherInfoEnum = WeatherInfoEnum.Drizzle; break;\r\n                case 5: weatherInfoEnum = WeatherInfoEnum.Rain; break;\r\n                case 6: weatherInfoEnum = WeatherInfoEnum.Snow; break;\r\n                case 7: weatherInfoEnum = WeatherInfoEnum.Atmosphere; break;\r\n                case 8:\r\n                    if (weatherInfo.id === 800) {\r\n                        weatherInfoEnum = WeatherInfoEnum.Clear;\r\n                    } else {\r\n                        weatherInfoEnum = WeatherInfoEnum.Clouds;\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            return new DailyWeatherInfo(date, minTemperature, maxTemperature, weatherInfoEnum, weatherInfoIcon);\r\n        } catch (_) {\r\n            throw new Error(\"Error on converting\");\r\n        }\r\n    }\r\n}","import { WeatherInfo5Days3HoursForecastMapInterface } from \"../OpenWeatherResponse/OpenWeatherMap5Day3HoursWeatherInfoResponse\";\r\nimport { WeatherInfo, WeatherInfoEnum } from \"./WeatherInfo\";\r\n\r\nexport class HourlyWeatherInfo extends WeatherInfo {\r\n    temperature: number;\r\n\r\n    constructor(date: Date, temperature: number, wheaterInfo: WeatherInfoEnum, wheaterInfoIcon: string) {\r\n        super(date, wheaterInfo, wheaterInfoIcon);\r\n        this.temperature = temperature;\r\n    }\r\n\r\n    static fromWeatherInfo5Days3HoursForecastMapInterface(weatherInfo5Days3HoursForecastMapInterface?: WeatherInfo5Days3HoursForecastMapInterface): HourlyWeatherInfo {\r\n        try {\r\n            if (weatherInfo5Days3HoursForecastMapInterface === undefined) {\r\n                throw new Error(\"weatherInfoMap == undefined\");\r\n            }\r\n\r\n            const date = new Date(weatherInfo5Days3HoursForecastMapInterface.dt * 1000);\r\n\r\n            let temperature: number = weatherInfo5Days3HoursForecastMapInterface.main.temp;\r\n\r\n            let weatherInfoEnum: WeatherInfoEnum = WeatherInfoEnum.Clear;\r\n            let weatherInfoIcon: string = '';\r\n\r\n            const weatherInfo = weatherInfo5Days3HoursForecastMapInterface.weather[0];\r\n            weatherInfoIcon = `http://openweathermap.org/img/wn/${weatherInfo.icon}@2x.png`;\r\n\r\n            // Get the group of weather conditions\r\n            switch ((weatherInfo.id / 100) | 0) {\r\n                case 2: weatherInfoEnum = WeatherInfoEnum.Thunderstorm; break;\r\n                case 3: weatherInfoEnum = WeatherInfoEnum.Drizzle; break;\r\n                case 5: weatherInfoEnum = WeatherInfoEnum.Rain; break;\r\n                case 6: weatherInfoEnum = WeatherInfoEnum.Snow; break;\r\n                case 7: weatherInfoEnum = WeatherInfoEnum.Atmosphere; break;\r\n                case 8:\r\n                    if (weatherInfo.id === 800) {\r\n                        weatherInfoEnum = WeatherInfoEnum.Clear;\r\n                    } else {\r\n                        weatherInfoEnum = WeatherInfoEnum.Clouds;\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            return new HourlyWeatherInfo(date, temperature, weatherInfoEnum, weatherInfoIcon);\r\n        } catch (_) {\r\n            throw new Error(\"Error on parse\");\r\n        }\r\n    }\r\n}","interface WeatherInfo5Days3HoursForecastMainMapInterface {\r\n    temp: number,\r\n}\r\n\r\nexport interface WeatherInfoMapResponseInterface {\r\n    id: number,\r\n    main: string,\r\n    icon: string,\r\n}\r\n\r\nexport interface WeatherInfo5Days3HoursForecastMapInterface {\r\n    dt: number,\r\n    main: WeatherInfo5Days3HoursForecastMainMapInterface,\r\n    weather: Array<WeatherInfoMapResponseInterface>,\r\n}\r\n\r\ninterface WeatherInfoLocationCoordinatesMap {\r\n    lat: number,\r\n    lon: number\r\n}\r\n\r\ninterface WeatherInfoCityMapInterface {\r\n    name: string,\r\n    coord: WeatherInfoLocationCoordinatesMap,\r\n}\r\n\r\nexport default class OpenWeatherMap5Day3HoursWeatherInfoResponse {\r\n    cod: string;\r\n    list: Array<WeatherInfo5Days3HoursForecastMapInterface>;\r\n    city: WeatherInfoCityMapInterface;\r\n\r\n    constructor(cod: string, list: Array<WeatherInfo5Days3HoursForecastMapInterface>, city: WeatherInfoCityMapInterface) {\r\n        this.cod = cod;\r\n        this.list = list;\r\n        this.city = city;\r\n    }\r\n}","import { WeatherInfoMapResponseInterface } from \"./OpenWeatherMap5Day3HoursWeatherInfoResponse\";\r\nimport { OpenWeatherMapBasicResponse } from \"./OpenWeatherMapBasicResponse\";\r\n\r\nexport interface WeatherInfoTemperatureMapResponseInterface {\r\n    min: number,\r\n    max: number\r\n}\r\n\r\nexport interface WeatherInfoMapInterface {\r\n    dt: number;\r\n    temp: WeatherInfoTemperatureMapResponseInterface | number;\r\n    weather: Array<WeatherInfoMapResponseInterface>;\r\n}\r\n\r\nexport class OpenWeatherMapWeekResponse extends OpenWeatherMapBasicResponse {\r\n    daily: Array<WeatherInfoMapInterface>;\r\n\r\n    constructor(dailyWeatherInfo: Array<WeatherInfoMapInterface>, lat: number, lon: number, timezone: string, timezone_offset: number) {\r\n        super(lat, lon, timezone, timezone_offset);\r\n        this.daily = dailyWeatherInfo;\r\n    }\r\n}","export class OpenWeatherMapBasicResponse {\r\n    lat: number;\r\n    lon: number;\r\n    timezone: string;\r\n    timezone_offset: number;\r\n\r\n    constructor(lat: number, lon: number, timezone: string, timezone_offset: number) {\r\n        this.lat = lat;\r\n        this.lon = lon;\r\n        this.timezone = timezone;\r\n        this.timezone_offset = timezone_offset;\r\n    }\r\n}","import axios from \"axios\";\r\nimport { plainToClass } from \"class-transformer\";\r\nimport loadWeekWeatherInfoMockedData from \"../data/mock/loadWeekWeatherInfo.json\";\r\nimport load5Day3HoursWeatherForecastInfoMockedData from \"../data/mock/load5Day3HoursWeatherForecastInfo.json\";\r\nimport OpenWeatherMap5Day3HoursWeatherInfoResponse from \"../data/model/OpenWeatherResponse/OpenWeatherMap5Day3HoursWeatherInfoResponse\";\r\nimport { OpenWeatherMapWeekResponse } from \"../data/model/OpenWeatherResponse/OpenWeatherMapWeekResponse\";\r\n\r\nexport const sleep = (milliseconds: number) => {\r\n    return new Promise(resolve => setTimeout(resolve, milliseconds))\r\n}\r\n\r\nexport async function loadWeekWeatherInfo(latitude: number, longitude: number): Promise<OpenWeatherMapWeekResponse | undefined> {\r\n    // try {\r\n    //     // TODO: Map the data from JSON to OpenWeatherMapWeekResponse\r\n    //     let openWeatherMapWeekResponse: OpenWeatherMapWeekResponse = plainToClass(OpenWeatherMapWeekResponse, loadWeekWeatherInfoMockedData as Object);\r\n\r\n    //     await sleep(250);\r\n\r\n    //     return openWeatherMapWeekResponse;\r\n    // } catch (_) {\r\n    //     return undefined;\r\n    // }\r\n\r\n    try {\r\n        const OPEN_WHEATER_MAP_API_KEY = process.env.REACT_APP_OPEN_WHEATER_MAP_API_KEY;\r\n        const response = await axios.get(\r\n            `https://api.openweathermap.org/data/2.5/onecall?lat=${latitude}&lon=${longitude}&exclude=minutely,hourly,alerts,current&appid=${OPEN_WHEATER_MAP_API_KEY}&units=imperial`\r\n        );\r\n\r\n        if (response.status === 200) {\r\n            let openWeatherMapWeekResponse: OpenWeatherMapWeekResponse = plainToClass(OpenWeatherMapWeekResponse, response.data as Object);\r\n            return openWeatherMapWeekResponse;\r\n        } else {\r\n            return undefined;\r\n        }\r\n    } catch (_) {\r\n        return undefined;\r\n    }\r\n}\r\n\r\nexport async function load5Days3HoursForecastWeatherInfo(latitude: number, longitude: number): Promise<OpenWeatherMap5Day3HoursWeatherInfoResponse | undefined> {\r\n    // try {\r\n    //     // TODO: Map the data from JSON to OpenWeatherMapWeekResponse\r\n    //     let openWeatherMap5Day3HoursWeatherInfoResponse: OpenWeatherMap5Day3HoursWeatherInfoResponse = plainToClass(OpenWeatherMap5Day3HoursWeatherInfoResponse, load5Day3HoursWeatherForecastInfoMockedData as Object);\r\n\r\n    //     await sleep(250);\r\n\r\n    //     return openWeatherMap5Day3HoursWeatherInfoResponse;\r\n    // } catch (_) {\r\n    //     return undefined;\r\n    // }\r\n\r\n    try {\r\n        const OPEN_WHEATER_MAP_API_KEY = process.env.REACT_APP_OPEN_WHEATER_MAP_API_KEY;\r\n        const response = await axios.get(\r\n            `https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&appid=${OPEN_WHEATER_MAP_API_KEY}&units=imperial`\r\n        );\r\n\r\n        if (response.status === 200) {\r\n            const openWeatherMap5Day3HoursWeatherInfoResponse: OpenWeatherMap5Day3HoursWeatherInfoResponse = plainToClass(OpenWeatherMap5Day3HoursWeatherInfoResponse, response.data as Object);\r\n            return openWeatherMap5Day3HoursWeatherInfoResponse;\r\n        } else {\r\n            return undefined;\r\n        }\r\n    } catch (_) {\r\n        return undefined;\r\n    }\r\n}","import UserLocation from \"../data/model/UserPreferences/UserLocation\";\r\nimport { DailyWeatherInfo } from \"../data/model/WeatherInfo/DailyWeatherInfo\";\r\nimport { HourlyWeatherInfo } from \"../data/model/WeatherInfo/HourlyWeatherInfo\";\r\n\r\nimport { load5Days3HoursForecastWeatherInfo, loadWeekWeatherInfo } from \"../services/OpenWeatherMapApi\";\r\nimport { DateUtilities } from \"./dateUtils\";\r\n\r\nexport class WeatherDataUtilities {\r\n    static async fetchMyAPI(\r\n        setIsLoadingDetailedDataFunction: (isLoadingDetailedData: boolean) => void,\r\n        updateHourlyWeatherInfosFunction: (hourlyWeatherInfos: Array<HourlyWeatherInfo>) => void,\r\n        updateUserLocationFunction: (userLocation: UserLocation) => void,\r\n        updateWeekWeatherInfosFunction: (weekWeatherInfos: Array<DailyWeatherInfo>) => void,\r\n        userLocation?: UserLocation, hourlyWeatherInfos?: Array<HourlyWeatherInfo>, weekWeatherInfos?: Array<DailyWeatherInfo>,\r\n    ) {\r\n        if (userLocation !== undefined) {\r\n            // Load Hourly Data\r\n            if (hourlyWeatherInfos === undefined) {\r\n                setIsLoadingDetailedDataFunction(true);\r\n                load5Days3HoursForecastWeatherInfo(userLocation!.latitude, userLocation!.longitude).then((hourlyWeatherInfo) => {\r\n                    if (hourlyWeatherInfo !== undefined) {\r\n                        let hourWeatherInfos = hourlyWeatherInfo.list.map((hourlyWeatherInfoMap, _) => HourlyWeatherInfo.fromWeatherInfo5Days3HoursForecastMapInterface(hourlyWeatherInfoMap));\r\n                        hourWeatherInfos.sort((weatherInfoA, weatherInfoB) => weatherInfoA.date.getTime() - weatherInfoB.date.getTime());\r\n\r\n                        updateHourlyWeatherInfosFunction(hourWeatherInfos);\r\n                        setIsLoadingDetailedDataFunction(false);\r\n\r\n                        let userLocation = new UserLocation(hourlyWeatherInfo.city.coord.lat, hourlyWeatherInfo.city.coord.lon);\r\n                        userLocation.name = hourlyWeatherInfo.city.name;\r\n                        updateUserLocationFunction(userLocation);\r\n                    }\r\n                });\r\n            }\r\n\r\n            // Load Week data\r\n            if (weekWeatherInfos === undefined) {\r\n                const weekWeatherInfo = await loadWeekWeatherInfo(userLocation!.latitude, userLocation!.longitude);\r\n                if (weekWeatherInfo !== undefined) {\r\n                    let weekWeatherInfos = weekWeatherInfo.daily.map((weatherInfoMap, _) => DailyWeatherInfo.fromWeatherInfoMapInterface(weatherInfoMap));\r\n                    weekWeatherInfos.sort((weatherInfoA, weatherInfoB) => weatherInfoA.date.getTime() - weatherInfoB.date.getTime());\r\n                    weekWeatherInfos = weekWeatherInfos.filter((weatherInfo) => DateUtilities.dateIsAfterToday(weatherInfo.date));\r\n\r\n                    if (weekWeatherInfos.length > 5) {\r\n                        weekWeatherInfos = weekWeatherInfos.slice(0, 5);\r\n                    }\r\n\r\n                    updateWeekWeatherInfosFunction(weekWeatherInfos);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","import { useEffect, useState } from 'react';\r\nimport { WeatherDailyInfo } from '../../components/WeatherDailyInfo';\r\nimport { DailyWeatherInfo } from '../../data/model/WeatherInfo/DailyWeatherInfo';\r\nimport { load5Days3HoursForecastWeatherInfo, loadWeekWeatherInfo } from '../../services/OpenWeatherMapApi';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport './styles.scss';\r\nimport DefaultAppBar from '../../components/DefaultAppBar';\r\nimport { LocationUtilities } from '../../utils/locationUtils';\r\nimport UserLocation from '../../data/model/UserPreferences/UserLocation';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { RootDispatcher } from '../../store/root-redux';\r\nimport { HourlyWeatherInfo } from '../../data/model/WeatherInfo/HourlyWeatherInfo';\r\nimport { WeatherDataUtilities } from '../../utils/weatherDataUtilis';\r\n\r\ninterface StateInterfaceProps {\r\n    userLocation: UserLocation | undefined;\r\n    weekWeatherInfos?: Array<DailyWeatherInfo>;\r\n    hourlyWeatherInfos?: Array<HourlyWeatherInfo>;\r\n}\r\n\r\nexport function HomePage() {\r\n    const [isLoading, setLoading] = useState<boolean>(false);\r\n\r\n    const { userLocation, weekWeatherInfos, hourlyWeatherInfos } = useSelector<StateInterfaceProps, StateInterfaceProps>((state: StateInterfaceProps) => {\r\n        return {\r\n            userLocation: state.userLocation,\r\n            weekWeatherInfos: state.weekWeatherInfos,\r\n            hourlyWeatherInfos: state.hourlyWeatherInfos,\r\n        }\r\n    });\r\n\r\n    const rootDispatcher = new RootDispatcher(useDispatch());\r\n\r\n    useEffect(() => {\r\n        async function loadData() {\r\n            await WeatherDataUtilities.fetchMyAPI(\r\n                rootDispatcher.setIsLoadingDetailedData,\r\n                rootDispatcher.updateHourlyWeatherInfos,\r\n                rootDispatcher.updateUserLocation,\r\n                rootDispatcher.updateWeekWeatherInfos,\r\n                userLocation,\r\n                hourlyWeatherInfos,\r\n                weekWeatherInfos\r\n            );\r\n        }\r\n\r\n        setLoading(true);\r\n        loadData().then(\r\n            () => setLoading(false)\r\n        );\r\n\r\n    }, [userLocation]);\r\n\r\n    useEffect(() => {\r\n        async function loadData() {\r\n            await LocationUtilities.loadUserLocationIfNeeded(\r\n                userLocation,\r\n                rootDispatcher.updateUserLocation,\r\n            );\r\n        }\r\n\r\n        setLoading(true);\r\n        loadData().then(\r\n            () => setLoading(false)\r\n        );\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"HomePageMain\">\r\n            <DefaultAppBar />\r\n\r\n            <div className=\"WeekWeatherInfo\">\r\n                {isLoading ?\r\n                    <div className=\"WeekWeatherInfoCircularProgress\">\r\n                        <CircularProgress />\r\n                    </div>\r\n                    : weekWeatherInfos !== undefined &&\r\n                    weekWeatherInfos.map((dayWeatherInfo, _) =>\r\n                        <WeatherDailyInfo weatherDailyInfo={dayWeatherInfo} />\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    return {\r\n        width,\r\n        height\r\n    };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n    const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n    useEffect(() => {\r\n        function handleResize() {\r\n            setWindowDimensions(getWindowDimensions());\r\n        }\r\n\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    return windowDimensions;\r\n}","import { useMemo, useCallback } from 'react';\r\nimport { HourlyWeatherInfo } from '../../data/model/WeatherInfo/HourlyWeatherInfo';\r\nimport { scaleTime, scaleLinear } from '@vx/scale';\r\nimport { AxisLeft, AxisBottom } from '@vx/axis';\r\nimport { Group } from '@vx/group';\r\nimport { AreaClosed, Bar, Line } from '@vx/shape';\r\nimport { localPoint } from '@visx/event';\r\nimport { LinearGradient } from '@vx/gradient';\r\nimport { bisector, extent, max, mean, min } from 'd3-array';\r\nimport { withTooltip, Tooltip, TooltipWithBounds, defaultStyles } from '@visx/tooltip';\r\nimport { WithTooltipProvidedProps } from '@visx/tooltip/lib/enhancers/withTooltip';\r\n\r\ntype TooltipData = HourlyWeatherInfo;\r\n\r\nexport type AreaProps = {\r\n    width: number;\r\n    height: number;\r\n    margin?: { top: number; right: number; bottom: number; left: number };\r\n    weatherDailyInfo: Array<HourlyWeatherInfo>;\r\n};\r\n\r\nexport default withTooltip<AreaProps, TooltipData>(\r\n    ({\r\n        width,\r\n        height,\r\n        margin = { top: 0, right: 0, bottom: 0, left: 0 },\r\n        showTooltip,\r\n        hideTooltip,\r\n        tooltipData,\r\n        tooltipTop = 0,\r\n        tooltipLeft = 0,\r\n        weatherDailyInfo,\r\n    }: AreaProps & WithTooltipProvidedProps<TooltipData>) => {\r\n        // Bounds\r\n        const innerWidth = width - margin.left - margin.right;\r\n        const innerHeight = height - margin.top - margin.bottom;\r\n\r\n        // Accessors\r\n        const getDate = (d: HourlyWeatherInfo): Date => d.date;\r\n        const getTemperatureValue = (d: HourlyWeatherInfo): number => d.temperature;\r\n        const getWeatherValue = (d: HourlyWeatherInfo): string => d.whaterInfoText();\r\n\r\n        const bisectDate = bisector<HourlyWeatherInfo, Date>(d => new Date(d.date)).left;\r\n\r\n        // Scales\r\n        const yMean = (mean(weatherDailyInfo, getTemperatureValue) || 0);\r\n        const yMin = (min(weatherDailyInfo, getTemperatureValue) || 0) - yMean / 10;\r\n        const yMax = (max(weatherDailyInfo, getTemperatureValue) || 0) + yMean / 10;\r\n\r\n        const xDateValues = useMemo(\r\n            () =>\r\n                scaleTime({\r\n                    range: [margin.left, innerWidth + margin.left],\r\n                    domain: extent(weatherDailyInfo, getDate) as [Date, Date],\r\n                }),\r\n            [innerWidth, margin.left],\r\n        );\r\n        const yTemperatureValues = useMemo(\r\n            () =>\r\n                scaleLinear({\r\n                    range: [innerHeight + margin.top, margin.top],\r\n                    domain: [yMin, yMax],\r\n                    nice: true,\r\n                }),\r\n            [margin.top, innerHeight],\r\n        );\r\n\r\n        // Styles\r\n        const mainColor = '#3f51b5';\r\n\r\n        const tooltipStyles = {\r\n            ...defaultStyles,\r\n            background: mainColor,\r\n            border: '1px solid white',\r\n            color: 'white',\r\n        };\r\n\r\n        // Tooltip handler\r\n        const handleTooltip = useCallback(\r\n            (event: React.TouchEvent<SVGRectElement> | React.MouseEvent<SVGRectElement>) => {\r\n                const { x } = localPoint(event) || { x: 0 };\r\n                const x0 = xDateValues.invert(x);\r\n                const index = bisectDate(weatherDailyInfo, x0, 1);\r\n                const d0 = weatherDailyInfo[index - 1];\r\n                const d1 = weatherDailyInfo[index];\r\n                let d = d0;\r\n                if (d1 && getDate(d1)) {\r\n                    d = x0.valueOf() - getDate(d0).valueOf() > getDate(d1).valueOf() - x0.valueOf() ? d1 : d0;\r\n                }\r\n                showTooltip({\r\n                    tooltipData: d,\r\n                    tooltipLeft: x,\r\n                    tooltipTop: yTemperatureValues(getTemperatureValue(d)),\r\n                });\r\n            },\r\n            [showTooltip, yTemperatureValues, xDateValues],\r\n        );\r\n\r\n        return (\r\n            <div className=\"WeatherHourlyChartMain\">\r\n                <svg width={width} height={height}>\r\n                    <rect\r\n                        x={margin.left}\r\n                        y={margin.top}\r\n                        width={innerWidth}\r\n                        height={innerHeight}\r\n                        fill=\"url(#area-background-gradient)\"\r\n                        rx={14}\r\n                    />\r\n                    <LinearGradient id=\"area-background-gradient\" from=\"#f3f3f3\" to=\"#e2e2e2\" vertical />\r\n                    <LinearGradient\r\n                        from='#FF8F00'\r\n                        to='#FFE082'\r\n                        id='gradient'\r\n                        vertical={false}\r\n                    />\r\n                    <Group top={0} left={0}>\r\n                        <AreaClosed<HourlyWeatherInfo>\r\n                            data={weatherDailyInfo}\r\n                            x={d => xDateValues(getDate(d)) ?? 0}\r\n                            y={d => yTemperatureValues(getTemperatureValue(d)) ?? 0}\r\n                            yScale={yTemperatureValues}\r\n                            fill=\"url(#gradient)\"\r\n                        />\r\n\r\n                        <Bar\r\n                            x={margin.left}\r\n                            y={margin.top}\r\n                            width={innerWidth}\r\n                            height={innerHeight}\r\n                            fill=\"transparent\"\r\n                            rx={14}\r\n                            onTouchStart={handleTooltip}\r\n                            onTouchMove={handleTooltip}\r\n                            onMouseMove={handleTooltip}\r\n                            onMouseLeave={() => hideTooltip()}\r\n                        />\r\n\r\n                        <AxisLeft\r\n                            scale={yTemperatureValues}\r\n                            top={0}\r\n                            left={margin.left}\r\n                            label={'Temperature (Fยบ)'}\r\n                            stroke={'#1b1a1e'}\r\n                        />\r\n\r\n                        <AxisBottom\r\n                            scale={xDateValues}\r\n                            top={innerHeight + margin.top}\r\n                            label={'Hour'}\r\n                            stroke={'#1b1a1e'}\r\n                        />\r\n                        {tooltipData && (\r\n                            <g>\r\n                                <Line\r\n                                    from={{ x: tooltipLeft, y: margin.top }}\r\n                                    to={{ x: tooltipLeft, y: innerHeight + margin.top }}\r\n                                    stroke={mainColor}\r\n                                    strokeWidth={2}\r\n                                    pointerEvents=\"none\"\r\n                                    strokeDasharray=\"5,2\"\r\n                                />\r\n                                <circle\r\n                                    cx={tooltipLeft}\r\n                                    cy={tooltipTop + 1}\r\n                                    r={4}\r\n                                    fill=\"black\"\r\n                                    fillOpacity={0.1}\r\n                                    stroke=\"black\"\r\n                                    strokeOpacity={0.1}\r\n                                    strokeWidth={2}\r\n                                    pointerEvents=\"none\"\r\n                                />\r\n                                <circle\r\n                                    cx={tooltipLeft}\r\n                                    cy={tooltipTop}\r\n                                    r={4}\r\n                                    fill={mainColor}\r\n                                    stroke=\"white\"\r\n                                    strokeWidth={2}\r\n                                    pointerEvents=\"none\"\r\n                                />\r\n                            </g>\r\n                        )}\r\n                    </Group>\r\n                </svg>\r\n                {tooltipData && (\r\n                    <div>\r\n                        <TooltipWithBounds\r\n                            key={Math.random()}\r\n                            top={tooltipTop - 12}\r\n                            left={tooltipLeft + 12}\r\n                            style={tooltipStyles}\r\n                        >\r\n                            {`${getTemperatureValue(tooltipData)} Fยบ`} <br/>\r\n                            {`${getWeatherValue(tooltipData)}`}\r\n                        </TooltipWithBounds>\r\n                        <Tooltip\r\n                            top={innerHeight + margin.top - 14}\r\n                            left={tooltipLeft}\r\n                            style={{\r\n                                ...defaultStyles,\r\n                                minWidth: 72,\r\n                                textAlign: 'center',\r\n                                transform: 'translateX(-50%)',\r\n                            }}\r\n                        >\r\n                            {(getDate(tooltipData).toLocaleTimeString())}\r\n                        </Tooltip>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    },\r\n);\r\n","import { useMemo, useCallback } from 'react';\r\nimport { HourlyWeatherInfo } from '../../data/model/WeatherInfo/HourlyWeatherInfo';\r\n\r\nimport { scaleTime, scaleLinear } from '@vx/scale';\r\nimport { AxisLeft, AxisBottom } from '@vx/axis';\r\nimport { Group } from '@vx/group';\r\nimport { AreaClosed } from '@vx/shape';\r\nimport { localPoint } from '@visx/event';\r\nimport { LinearGradient } from '@vx/gradient';\r\nimport { bisector, extent, max, min } from 'd3-array';\r\nimport useWindowDimensions from '../../hook/useWindowDimensionsHook';\r\nimport { withTooltip, Tooltip, TooltipWithBounds, defaultStyles } from '@visx/tooltip';\r\nimport { WithTooltipProvidedProps } from '@visx/tooltip/lib/enhancers/withTooltip';\r\nimport WeatherHourlyChartComponent from './WeatherHourlyChartComponent';\r\n\r\ntype WeatherHourlyInfoProps = {\r\n  weatherDailyInfo: Array<HourlyWeatherInfo>\r\n}\r\n\r\ntype TooltipData = HourlyWeatherInfo;\r\n\r\nexport type AreaProps = {\r\n  width: number;\r\n  height: number;\r\n  margin?: { top: number; right: number; bottom: number; left: number };\r\n};\r\n\r\n\r\nexport const WeatherHourlyChart = ({ weatherDailyInfo }: WeatherHourlyInfoProps) => {\r\n  const { width } = useWindowDimensions();\r\n\r\n  // Dimensions\r\n  const margin = {\r\n    top: 30,\r\n    left: 60,\r\n    right: 40,\r\n    bottom: 80,\r\n  };\r\n\r\n  const chartWidth = width * 0.8;\r\n  const chartHeight = 360 + margin.top + margin.bottom;\r\n\r\n  return (\r\n    <WeatherHourlyChartComponent\r\n      weatherDailyInfo={weatherDailyInfo}\r\n      height={chartHeight}\r\n      width={chartWidth}\r\n      margin={margin}\r\n    />\r\n  );\r\n}","import { useEffect, useState } from \"react\";\r\nimport { WeatherHourlyChart } from \"../../components/WeatherHourlyChart\";\r\nimport { HourlyWeatherInfo } from \"../../data/model/WeatherInfo/HourlyWeatherInfo\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport './styles.scss';\r\nimport { Link, useRouteMatch, useHistory } from \"react-router-dom\";\r\nimport DefaultAppBar from \"../../components/DefaultAppBar\";\r\nimport { DateUtilities } from \"../../utils/dateUtils\";\r\nimport { LocationUtilities } from \"../../utils/locationUtils\";\r\nimport UserLocation from \"../../data/model/UserPreferences/UserLocation\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootDispatcher } from \"../../store/root-redux\";\r\nimport { WeatherDataUtilities } from \"../../utils/weatherDataUtilis\";\r\nimport { DailyWeatherInfo } from \"../../data/model/WeatherInfo/DailyWeatherInfo\";\r\nimport { ButtonGroup, Button } from \"@material-ui/core\";\r\n\r\ninterface StateInterfaceProps {\r\n    userLocation: UserLocation | undefined;\r\n    hourlyWeatherInfos: Array<HourlyWeatherInfo> | undefined;\r\n    isLoadingDetailedData?: boolean;\r\n    weekWeatherInfos?: Array<DailyWeatherInfo>;\r\n}\r\n\r\nexport default function HourlyWeatherInfoPage() {\r\n    const [localHourlyWeatherInfos, setLocalHourlyWeatherInfos] = useState<Array<HourlyWeatherInfo> | undefined>(undefined);\r\n    const [isLoading, setLoading] = useState<boolean>(false);\r\n\r\n    const history = useHistory();\r\n\r\n    const { userLocation, hourlyWeatherInfos, isLoadingDetailedData, weekWeatherInfos } = useSelector<StateInterfaceProps, StateInterfaceProps>((state: StateInterfaceProps) => {\r\n        return {\r\n            userLocation: state.userLocation,\r\n            hourlyWeatherInfos: state.hourlyWeatherInfos,\r\n            isLoadingDetailedData: state.isLoadingDetailedData,\r\n            weekWeatherInfos: state.weekWeatherInfos,\r\n        }\r\n    });\r\n\r\n    const rootDispatcher = new RootDispatcher(useDispatch());\r\n\r\n    const { path } = useRouteMatch();\r\n\r\n    const day = (): Date => DateUtilities.getDateAccordingToCurrentWeekDayName(path);\r\n\r\n    useEffect(() => {\r\n        async function loadData() {\r\n            await WeatherDataUtilities.fetchMyAPI(\r\n                rootDispatcher.setIsLoadingDetailedData,\r\n                rootDispatcher.updateHourlyWeatherInfos,\r\n                rootDispatcher.updateUserLocation,\r\n                rootDispatcher.updateWeekWeatherInfos,\r\n                userLocation,\r\n                hourlyWeatherInfos,\r\n                weekWeatherInfos\r\n            );\r\n        }\r\n\r\n        loadData();\r\n\r\n    }, [userLocation]);\r\n\r\n    useEffect(() => {\r\n        if (hourlyWeatherInfos !== undefined) {\r\n            const date: number = day().getDate();\r\n            const localHourlyWeatherInfos = hourlyWeatherInfos.filter((hourly) => hourly.date.getDate() === date);\r\n\r\n            setLocalHourlyWeatherInfos(localHourlyWeatherInfos);\r\n        }\r\n    }, [hourlyWeatherInfos]);\r\n\r\n    useEffect(() => {\r\n        async function loadData() {\r\n            await LocationUtilities.loadUserLocationIfNeeded(\r\n                userLocation,\r\n                rootDispatcher.updateUserLocation,\r\n            );\r\n        }\r\n\r\n        setLoading(true);\r\n        loadData().then(\r\n            () => setLoading(false)\r\n        );\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"HourlyWeatherInfoMain\">\r\n            <DefaultAppBar />\r\n\r\n            <div className=\"HourlyWeatherInfoChart\">\r\n                <div className=\"HourlyWeatherInfoChartHeader\">\r\n                    <div className=\"HourlyWeatherInfoChartHeaderText\">\r\n                        {day().toDateString()}\r\n                    </div>\r\n\r\n                    {weekWeatherInfos &&\r\n                        <ButtonGroup className=\"HourlyWeatherInfoChartHeaderTextButtonGroup\">                           \r\n                            {weekWeatherInfos.map((dayWeatherInfo) => {\r\n                                const weekDay = DateUtilities.days[dayWeatherInfo.date.getDay()];\r\n\r\n                                const isSelected = day().getDay() === dayWeatherInfo.date.getDay();\r\n\r\n                                return (\r\n                                    <Button\r\n                                        onClick={() => {\r\n                                            history.push(`/${weekDay}`);\r\n                                            history.go(0);\r\n                                        }}\r\n                                        className={isSelected ? 'HourlyWeatherInfoChartHeaderTextButtonSelected' : ''}>\r\n                                        {weekDay}\r\n                                    </Button>\r\n                                );\r\n                            })}\r\n                        </ButtonGroup>\r\n                    }\r\n                </div>\r\n\r\n                {isLoadingDetailedData || isLoading ?\r\n                    <div className=\"HourlyWeatherInfoChartCircularProgress\">\r\n                        <CircularProgress />\r\n                    </div>\r\n                    : localHourlyWeatherInfos !== undefined &&\r\n                    <WeatherHourlyChart\r\n                        weatherDailyInfo={localHourlyWeatherInfos} />\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { DispatchAction, StateInterface, rootReducer } from \"./root-reducer\";\r\nimport { createStore } from \"redux\";\r\n\r\nexport const store = createStore<StateInterface, DispatchAction, null, null>(rootReducer);","import { Provider } from \"react-redux\";\r\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\r\nimport { HomePage } from \"./pages/HomePage\";\r\nimport HourlyWeatherInfoPage from \"./pages/HourlyWeatherInfo\";\r\nimport { store } from \"./store\";\r\nimport { DateUtilities } from \"./utils/dateUtils\";\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <Provider store={store}>\r\n            <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n                <Switch>\r\n                    <Route path={\r\n                        [\r\n                            ...[\"/tomorrow\"],\r\n                            ...DateUtilities.days.map((day, _, __) => `/${day}`)\r\n                        ]}\r\n                        component={HourlyWeatherInfoPage}\r\n                    />\r\n                    <Route path=\"/\" component={HomePage} />\r\n                </Switch>\r\n            </BrowserRouter>\r\n        </Provider>\r\n    );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Routes from './Routes';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Routes />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}